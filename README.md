# Ανάλυση Κίνησης Κάτω Άκρου με Movella DOT και Python

## Περιγραφή Έργου

Εκπονήθηκε για τις ανάγκες του **Μεταπτυχιακού Προγράμματος Σπουδών στη Βιοϊατρική Πληροφορική**  του **Τμήματος Ιατρικής, Δημοκριτείου Πανεπιστημίου Θράκης (Δ.Π.Θ.)**.

Το παρόν έργο αφορά την **καταγραφή, ανάλυση και οπτικοποίηση της κίνησης του κάτω άκρου (μηρός–κνήμη–πέλμα)** με χρήση **φορητών αισθητήρων Movella DOT** και **Python**.  
Αποτελεί εφαρμογή που αναπτύχθηκε στο πλαίσιο μεταπτυχιακής έρευνας στη **Βιοϊατρική Πληροφορική**, με σκοπό τη μελέτη της ανθρώπινης κίνησης μέσω **αδρανειακών μετρήσεων (IMU)** και **τεχνητής νοημοσύνης (AI)**.

Το σύστημα υποστηρίζει:
- **Καταγραφή** δεδομένων Euler από τους αισθητήρες Movella DOT.
- **Αυτόματη αποθήκευση** δεδομένων σε Excel ανά αισθητήρα (π.χ. μηρός, κνήμη, πέλμα).
- **Συνένωση όλων των δεδομένων** σε ενιαίο αρχείο `all_data_excel_files.xlsx`.
- **3D προσομοίωση** της κίνησης των αρθρώσεων σε πραγματικό χρόνο.
- **Ανάλυση με Random Forest AI** για έλεγχο ορθότητας άσκησης και προτεινόμενες διορθώσεις.

---

## Απαιτήσεις Συστήματος

- **Λειτουργικό Σύστημα**: Windows 11 (64-bit)
- **Python**: >= 3.10 (συνιστάται 3.11)
- **RAM**: ≥ 8 GB
- **Σύνδεση Bluetooth** (για Movella DOT)
- **Εγκατεστημένο Movella DOT SDK**

---

## Εγκατάσταση Movella DOT SDK

1. Μεταβείτε στην επίσημη σελίδα της Movella:
   🔗 [https://developer.movella.com/downloads](https://developer.movella.com/downloads)

2. Κατεβάστε το **Movella DOT PC SDK (Windows)**.

3. Εγκαταστήστε το SDK και σημειώστε τη διαδρομή εγκατάστασης, π.χ.:
   ```
   C:\Program Files\Movella\DOT PC SDK\
   ```

4. Προσθέστε τη διαδρομή αυτή στο **PATH** των περιβαλλοντικών μεταβλητών (Environment Variables).

5. Συνδέστε τους αισθητήρες Movella DOT με Bluetooth και βεβαιωθείτε ότι είναι ορατοί από το SDK demo tool (`DotPCSDKDemo.exe`).

---

## Εγκατάσταση Python και Βιβλιοθηκών

1. Εγκαταστήστε την Python (αν δεν υπάρχει):
   🔗 [https://www.python.org/downloads/](https://www.python.org/downloads/)

2. Ανοίξτε το **Command Prompt (cmd)** ή **PowerShell** και εκτελέστε:

   ```bash
   pip install pandas numpy matplotlib scikit-learn openpyxl
   ```

3. Αν σκοπεύετε να χρησιμοποιήσετε επιπλέον δυνατότητες (π.χ. 3D γραφικά, animation), εγκαταστήστε:

   ```bash
   pip install mpl_toolkits
   ```

---

## Δομή Αρχείων

Κάθε φάκελος αντιπροσωπεύει **μία ξεχωριστή άσκηση**:

```
1/
│
├── all_data_excel_files.xlsx
├── D4-22-CD-00-A8-13_data.xlsx     # Μηρός
├── D4-22-CD-00-A8-17_data.xlsx     # Κνήμη
├── D4-22-CD-00-A8-46_data.xlsx     # Πέλμα
├── LegDraw.py                      # 3D απεικόνιση
└── LegDrawAI.py                    # 3D + AI αξιολόγηση
```

Το αρχείο `MyMeasure.py` εκτελεί τη **συλλογή και αποθήκευση δεδομένων** από τους αισθητήρες.

---

## Περιγραφή Λειτουργιών

### 1. **Καταγραφή Δεδομένων – `MyMeasure.py`**
- Συνδέεται μέσω SDK στους αισθητήρες Movella DOT.
- Διαβάζει δεδομένα Euler (roll, pitch, yaw).
- Αποθηκεύει κάθε αισθητήρα σε ξεχωριστό Excel αρχείο.
- Δημιουργεί το `all_data_excel_files.xlsx` με κοινό χρόνο δειγματοληψίας.

### 2. **Οπτικοποίηση – `LegDraw.py`**
- Φορτώνει τα δεδομένα Euler (Thigh, Shin, Toe).
- Υπολογίζει θέσεις αρθρώσεων (Hip, Knee, Ankle, Toe) σε 3D.
- Προβάλλει animation σε πραγματικό χρόνο.
- Εμφανίζει γραφήματα των γωνιών Euler για κάθε άρθρωση.

### 3. **Ανάλυση με AI – `LegDrawAI.py`**
- Εκπαιδεύει **Random Forest classifier** για ανίχνευση λαθών στην άσκηση.
- Επισημαίνει στα καρέ όπου εντοπίζονται αποκλίσεις.
- Προτείνει **διορθωμένες γωνίες** και απεικονίζει τη διαφορά με διακεκομμένες γραμμές.
- Εμφανίζει συνολική ακρίβεια του μοντέλου (π.χ. 88%).

---

## Επιστημονική Βάση

Το έργο βασίζεται σε αρχές **Αδρανειακής Μέτρησης (Inertial Measurement Units – IMUs)** και **κινηματικής μοντελοποίησης**.  
Κάθε Movella DOT περιλαμβάνει **επιταχυνσιόμετρο**, **γυροσκόπιο** και **μαγνητόμετρο**, ενώ οι μετρήσεις συνδυάζονται μέσω **sensor fusion αλγορίθμων** για τον υπολογισμό των γωνιών Euler.

---

## Σύνδεσμοι Βιβλιοθηκών

| Βιβλιοθήκη | Περιγραφή | Σύνδεσμος |
|-------------|------------|-----------|
| **pandas** | Ανάγνωση/εγγραφή αρχείων Excel και ανάλυση δεδομένων | [https://pandas.pydata.org/](https://pandas.pydata.org/) |
| **numpy** | Υπολογισμοί πινάκων και μαθηματικές πράξεις | [https://numpy.org/](https://numpy.org/) |
| **matplotlib** | Δημιουργία 2D/3D γραφημάτων και animation | [https://matplotlib.org/](https://matplotlib.org/) |
| **scikit-learn** | Μηχανική μάθηση (Random Forest, training, accuracy) | [https://scikit-learn.org/stable/](https://scikit-learn.org/stable/) |
| **openpyxl** | Επεξεργασία Excel αρχείων (.xlsx) | [https://openpyxl.readthedocs.io/](https://openpyxl.readthedocs.io/) |
| **mpl_toolkits.mplot3d** | Επέκταση του Matplotlib για 3D απεικόνιση | [https://matplotlib.org/stable/api/toolkits/mplot3d.html](https://matplotlib.org/stable/api/toolkits/mplot3d.html) |

---

## Οδηγίες Εκτέλεσης

1. Βεβαιωθείτε ότι οι αισθητήρες Movella DOT είναι συνδεδεμένοι με Bluetooth.
2. Εκτελέστε το πρόγραμμα συλλογής:
   ```bash
   python MyMeasure.py
   ```
3. Μετά τη συλλογή, ανοίξτε το πρόγραμμα οπτικοποίησης:
   ```bash
   python LegDraw.py
   ```
4. Για ανάλυση με τεχνητή νοημοσύνη:
   ```bash
   python LegDrawAI.py
   ```

---

## Δομή GitHub

```
.
├── /1/
├── /2/
├── /3/
├── /4/
├── /5/
├── LICENSE
├── MyMeasure.py
├── README.md
└── requirements.txt
```

### requirements.txt
```
pandas>=2.0.0
numpy>=1.25.0
matplotlib>=3.8.0
scikit-learn>=1.3.0
openpyxl>=3.1.0
```

---

## Επεκτάσεις

- Ενσωμάτωση **Deep Learning μοντέλων (CNN/LSTM)** για αναγνώριση τύπων άσκησης.  
- Αυτόματη εξαγωγή στατιστικών για γωνίες, διάρκεια, ακρίβεια.  
- Υποστήριξη **Real-time feedback** με Bluetooth streaming.

---

## Συντάκτης

**Γεώργιος Κουρτίδης**  
Ηλεκτρονικός Μηχανικός – MSc Βιοϊατρικής Πληροφορικής  
Αλεξανδρούπολη, Ελλάδα

---

## Άδεια Χρήσης

Αυτό το έργο διατίθεται υπό την άδεια **MIT License**.  
Επιτρέπεται η ελεύθερη χρήση, τροποποίηση και διανομή με αναφορά στον δημιουργό.
